# PRD (Product Requirements Document)
# 제품 요구사항 정의서

**프로젝트명**: Vibe Grade - 학생 성적 관리 시스템
**버전**: 1.0
**작성일**: 2025-01-22
**상태**: Draft

---

## 1. 개요 (Executive Summary)

### 1.1 프로젝트 배경
바이브코딩과 웹사이트 제작 교과목을 수강하는 학생들의 GitHub 프로젝트를 효율적으로 평가하고 관리하기 위한 웹 기반 성적 관리 시스템이 필요합니다. 기존 수동 채점 방식의 비효율성을 개선하고, GitHub 리포지토리 자동 분석을 통해 공정하고 일관된 평가를 제공합니다.

### 1.2 프로젝트 목표
- GitHub URL 입력만으로 학생 프로젝트 자동 분석 및 채점
- 체크리스트 기반 투명한 평가 시스템
- 학생 성적 통계 및 시각화
- 학생 공지사항 관리 및 피드백 제공
- 완전 무료 인프라로 배포 및 운영

### 1.3 성공 지표 (Success Metrics)
- 채점 시간 70% 단축 (평균 10분 → 3분/학생)
- 자동 분석 정확도 85% 이상
- 시스템 응답 시간 3초 이내
- 학생 100명 이상 지원
- 월 운영 비용 $0 유지

---

## 2. 제품 비전 (Product Vision)

### 2.1 문제 정의 (Problem Statement)
**현재 문제점**:
- 수동 채점으로 인한 시간 소요 (학생 1명당 10-15분)
- 주관적 평가로 인한 일관성 부족
- GitHub 코드 리뷰의 어려움
- 학생들의 실시간 진행 상황 파악 어려움
- 성적 데이터 관리 및 통계 생성의 비효율성

**타겟 사용자**:
1. **교수/강사** (Primary User)
   - 학생 성적 관리 및 채점
   - GitHub 프로젝트 자동 분석
   - 통계 및 리포트 생성

2. **학생** (Secondary User)
   - 본인 성적 조회
   - 피드백 확인
   - 과제 제출 현황 확인

3. **교무 관리자** (Tertiary User)
   - 전체 성적 데이터 조회
   - CSV/JSON 내보내기

### 2.2 솔루션 개요
GitHub API를 활용한 자동 프로젝트 분석 시스템을 통해:
- HTML 파일 개수 자동 카운트 → 페이지 수 평가
- 코드 구조 분석 → 네비게이션, 반응형 등 기능 감지
- 커밋 활동성 분석 → 프로젝트 진행 상황 파악
- 체크리스트 자동 제안 → 일관된 평가 기준 적용

---

## 3. 사용자 스토리 (User Stories)

### 3.1 교수/강사

#### US-001: 학생 등록
**As a** 교수
**I want to** 학생 정보를 개별 또는 CSV로 일괄 등록하고
**So that** 수강생 명단을 빠르게 시스템에 입력할 수 있다

**인수 기준 (Acceptance Criteria)**:
- [ ] 학번, 이름, GitHub URL, 배포 URL을 입력할 수 있다
- [ ] CSV 파일 업로드로 일괄 등록이 가능하다
- [ ] 중복 학번 검증을 수행한다
- [ ] 등록 후 즉시 목록에 반영된다

**우선순위**: P0 (Must Have)

---

#### US-002: GitHub 자동 분석
**As a** 교수
**I want to** GitHub URL 입력 후 "자동 분석" 버튼을 클릭하면
**So that** 프로젝트가 자동으로 분석되고 체크리스트가 제안된다

**인수 기준**:
- [ ] GitHub public repository URL을 파싱한다
- [ ] HTML 파일 개수를 카운트하여 페이지 수를 판단한다
- [ ] `<nav>`, `<form>`, `@media` 등 주요 기능을 감지한다
- [ ] 커밋 개수와 최근 커밋 날짜를 표시한다
- [ ] 분석 결과를 기반으로 체크리스트 항목을 자동 선택한다
- [ ] 분석 실패 시 명확한 오류 메시지를 표시한다

**우선순위**: P0 (Must Have)

---

#### US-003: 체크리스트 채점
**As a** 교수
**I want to** 체크리스트 항목을 체크/해제하여
**So that** 투명하고 일관된 기준으로 학생을 평가할 수 있다

**인수 기준**:
- [ ] 6개 카테고리 (기본, 구조, 기능, 확장, 완성도, 탁월함)로 구분된다
- [ ] 각 항목은 배점이 명시되어 있다
- [ ] 체크 시 실시간으로 총점이 계산된다
- [ ] 40점 만점 기준으로 등급(A+~F)이 자동 계산된다

**우선순위**: P0 (Must Have)

---

#### US-004: 종합 성적 관리
**As a** 교수
**I want to** 미니 프로젝트, 발표, 출석 점수를 입력하고
**So that** 최종 성적(100점)을 자동 계산할 수 있다

**인수 기준**:
- [ ] 미니 프로젝트 1 (10%), 2 (15%) 입력 가능
- [ ] 최종 웹사이트는 체크리스트에서 자동 반영 (40%)
- [ ] 발표 (15%), 주차별 진행 (10%), 출석 (10%) 입력 가능
- [ ] 가중치 적용된 최종 점수가 실시간 계산된다
- [ ] 최종 등급(A+~F)이 자동 표시된다

**우선순위**: P0 (Must Have)

---

#### US-005: 코멘트 작성
**As a** 교수
**I want to** 각 학생에게 평가 코멘트를 작성하고
**So that** 구체적인 피드백을 제공할 수 있다

**인수 기준**:
- [ ] 텍스트 영역에 자유롭게 코멘트를 입력할 수 있다
- [ ] 코멘트는 자동 저장된다
- [ ] 학생은 본인의 코멘트만 볼 수 있다

**우선순위**: P1 (Should Have)

---

#### US-006: 통계 조회
**As a** 교수
**I want to** 전체 학생의 성적 분포와 통계를 시각화하여
**So that** 수업 전반의 수준을 파악하고 개선점을 찾을 수 있다

**인수 기준**:
- [ ] 최종 등급 분포를 막대 그래프로 표시
- [ ] 웹사이트 등급 분포를 파이 차트로 표시
- [ ] 평균, 최고, 최저 점수를 요약 통계로 제공
- [ ] 채점 완료율을 표시

**우선순위**: P1 (Should Have)

---

#### US-007: 성적표 내보내기
**As a** 교수
**I want to** 성적 데이터를 CSV 또는 JSON으로 내보내고
**So that** 다른 시스템에서 활용하거나 보고서를 작성할 수 있다

**인수 기준**:
- [ ] CSV 파일로 내보내기 (Excel 호환)
- [ ] JSON 파일로 내보내기
- [ ] 학번, 이름, 각 항목 점수, 최종 점수, 등급, 코멘트 포함
- [ ] 파일명에 날짜 자동 포함

**우선순위**: P1 (Should Have)

---

#### US-008: 공지사항 작성
**As a** 교수
**I want to** 학생들에게 공지사항을 작성하고
**So that** 과제 안내, 마감일, 평가 기준 등을 전달할 수 있다

**인수 기준**:
- [ ] 제목, 내용, 우선순위(긴급/일반/정보) 입력 가능
- [ ] 공지사항 목록 관리 (작성/수정/삭제)
- [ ] 게시/비게시 상태 토글 가능
- [ ] 최신순으로 정렬 표시

**우선순위**: P1 (Should Have)

---

#### US-009: 일괄 자동 분석
**As a** 교수
**I want to** 전체 학생의 GitHub 프로젝트를 한 번에 분석하고
**So that** 시간을 대폭 절약할 수 있다

**인수 기준**:
- [ ] "전체 자동 분석" 버튼 제공
- [ ] 진행률 표시 (예: 25/100 학생 완료)
- [ ] 실패한 항목 별도 표시
- [ ] GitHub API rate limit 고려한 순차 처리

**우선순위**: P2 (Nice to Have)

---

### 3.2 학생

#### US-101: 성적 조회
**As a** 학생
**I want to** 학번으로 로그인하여 내 성적을 조회하고
**So that** 현재 점수와 등급을 확인할 수 있다

**인수 기준**:
- [ ] 학번 입력으로 간단한 인증
- [ ] 본인의 체크리스트 달성 현황 표시
- [ ] 각 평가 항목별 점수 표시
- [ ] 교수 코멘트 확인 가능

**우선순위**: P1 (Should Have)

---

#### US-102: 공지사항 확인
**As a** 학생
**I want to** 교수가 작성한 공지사항을 확인하고
**So that** 과제 요구사항과 마감일을 놓치지 않을 수 있다

**인수 기준**:
- [ ] 게시된 공지사항만 표시
- [ ] 긴급 공지사항 강조 표시
- [ ] 최신순 정렬

**우선순위**: P1 (Should Have)

---

#### US-103: 제출 현황 확인
**As a** 학생
**I want to** 내가 제출해야 할 항목과 현재 달성 현황을 보고
**So that** 추가로 보완해야 할 부분을 알 수 있다

**인수 기준**:
- [ ] 체크리스트 중 미달성 항목 표시
- [ ] 현재 점수 대비 목표 등급까지 필요한 점수 안내

**우선순위**: P2 (Nice to Have)

---

## 4. 기능 요구사항 (Functional Requirements)

### 4.1 학생 관리 (Student Management)

#### FR-001: 학생 추가
- 학번(필수), 이름(필수), GitHub URL(선택), 배포 URL(선택) 입력
- 학번 중복 검증
- 유효성 검사 (학번 형식, URL 형식)

#### FR-002: CSV 일괄 업로드
- CSV 파일 형식: `name,studentId,github,url`
- 헤더 자동 감지 (대소문자 무시)
- 오류 행 건너뛰기 및 결과 리포트

#### FR-003: 학생 검색
- 이름 또는 학번으로 실시간 검색
- 대소문자 구분 없이 부분 일치 검색

#### FR-004: 학생 정보 수정
- 개별 필드 수정 가능
- 수정 이력 추적 (선택사항)

#### FR-005: 학생 삭제
- 삭제 확인 다이얼로그
- 관련 성적 데이터 CASCADE 삭제

---

### 4.2 GitHub 자동 분석 (Auto Analysis)

#### FR-101: 리포지토리 구조 분석
- GitHub API로 파일 트리 조회
- `.html` 확장자 파일 카운트
- `README.md`, `.css`, `.js` 파일 존재 확인

#### FR-102: HTML 콘텐츠 분석
- 주요 HTML 파일 다운로드 및 파싱
- `<nav>` 태그 감지 → 네비게이션 메뉴
- `<form>` 태그 감지 → 연락처 폼
- `<meta name="viewport">` 감지 → 반응형
- CSS 내 `@media` 쿼리 감지 → 반응형

#### FR-103: 기능 감지
- `:hover`, `animation`, `transition` → 애니메이션
- `data-theme`, `.dark-mode` → 다크모드
- 외부 API 호출 코드 감지 → 외부 서비스 연동

#### FR-104: 커밋 분석
- 총 커밋 개수 조회
- 최근 커밋 날짜 및 활동성 평가

#### FR-105: 체크리스트 자동 제안
- 분석 결과를 기반으로 체크리스트 항목 자동 선택
- 교수가 최종 확인 후 수정 가능

#### FR-106: 분석 캐싱
- 동일 URL 24시간 내 재분석 시 캐시 사용
- 수동 새로고침 옵션 제공

---

### 4.3 채점 시스템 (Grading System)

#### FR-201: 체크리스트 채점
- 6개 카테고리, 총 18개 항목
- 각 항목 체크 시 배점 자동 합산
- 실시간 점수 계산 (0-40점)
- 등급 자동 계산 (A+: 38+, A: 34+, B+: 28+, ...)

#### FR-202: 기타 평가 항목 입력
- 미니 프로젝트 1, 2
- 최종 발표
- 주차별 진행
- 출석
- 각 항목 0-100점 범위 검증

#### FR-203: 최종 성적 계산
```
최종 점수 = 미니1×10% + 미니2×15% + 웹사이트×40% + 발표×15% + 진행×10% + 출석×10%
```
- 가중치 자동 적용
- 소수점 둘째 자리까지 표시
- 최종 등급 자동 부여

#### FR-204: 코멘트 관리
- Markdown 지원 (선택사항)
- 자동 저장
- 글자 수 제한 없음

---

### 4.4 통계 및 리포트 (Statistics & Reports)

#### FR-301: 등급 분포 차트
- 막대 그래프: 최종 등급 분포 (A+, A, B+, ...)
- 파이 차트: 웹사이트 등급 분포
- 인터랙티브 차트 (Recharts)

#### FR-302: 요약 통계
- 평균 점수 (최종, 웹사이트)
- 최고/최저 점수
- 중앙값 (선택사항)
- 표준편차 (선택사항)

#### FR-303: CSV 내보내기
- UTF-8 BOM 인코딩 (한글 지원)
- 헤더: 학번, 이름, GitHub, URL, 각 평가 항목, 최종 점수, 등급, 코멘트
- 파일명: `vibe-grade-YYYY-MM-DD.csv`

#### FR-304: JSON 내보내기
- 전체 데이터 구조화
- 들여쓰기 포함 (가독성)
- 파일명: `vibe-grade-YYYY-MM-DD.json`

---

### 4.5 공지사항 (Announcements)

#### FR-401: 공지 작성
- 제목 (필수, 최대 200자)
- 내용 (필수, Markdown 지원)
- 우선순위: urgent, normal, info
- 게시/비게시 토글

#### FR-402: 공지 관리
- 목록 조회 (최신순)
- 수정/삭제
- 게시 상태 토글

#### FR-403: 학생 뷰
- 게시된 공지만 표시
- 긴급 공지 상단 고정
- 작성일 표시

---

### 4.6 인증 및 권한 (Authentication & Authorization)

#### FR-501: 관리자 로그인
- 사용자명/비밀번호
- JWT 토큰 발급
- 세션 유지 (7일)

#### FR-502: 학생 간편 인증
- 학번만으로 조회 (비밀번호 없음)
- 읽기 전용 모드

#### FR-503: 권한 관리
- 관리자: 모든 기능 접근
- 학생: 본인 성적 조회만

---

## 5. 비기능 요구사항 (Non-Functional Requirements)

### 5.1 성능 (Performance)

#### NFR-001: 응답 시간
- 페이지 로드: 3초 이내
- API 응답: 1초 이내
- GitHub 자동 분석: 10초 이내

#### NFR-002: 동시 사용자
- 최소 50명 동시 접속 지원
- 분석 요청 대기열 관리

#### NFR-003: 데이터베이스 성능
- 쿼리 최적화 (인덱스 활용)
- Connection pooling

---

### 5.2 확장성 (Scalability)

#### NFR-101: 학생 수
- 최소 1,000명 지원
- 데이터베이스 용량: 500MB 이내 (무료 tier)

#### NFR-102: 수평 확장
- Cloudflare Workers 자동 스케일링
- 서버리스 아키텍처

---

### 5.3 보안 (Security)

#### NFR-201: 데이터 보호
- HTTPS 강제 (SSL/TLS)
- SQL Injection 방지 (Parameterized queries)
- XSS 방지 (입력 sanitization)

#### NFR-202: 인증
- JWT 토큰 암호화
- 비밀번호 해싱 (bcrypt)

#### NFR-203: API 보호
- Rate limiting (IP 기반)
- CORS 정책 설정

---

### 5.4 사용성 (Usability)

#### NFR-301: 반응형 디자인
- 데스크탑 (1920px+)
- 태블릿 (768px~1024px)
- 모바일 (320px~767px)

#### NFR-302: 접근성
- WCAG 2.1 AA 수준 (목표)
- 키보드 네비게이션 지원
- 명확한 에러 메시지

#### NFR-303: 브라우저 호환성
- Chrome 100+
- Firefox 100+
- Safari 15+
- Edge 100+

---

### 5.5 신뢰성 (Reliability)

#### NFR-401: 가용성
- Uptime 99% 이상
- Cloudflare CDN 활용

#### NFR-402: 데이터 백업
- Neon 자동 백업 (7일)
- 주간 수동 백업 권장

#### NFR-403: 오류 처리
- 명확한 에러 메시지
- 재시도 로직 (API 실패 시)
- Fallback UI

---

### 5.6 유지보수성 (Maintainability)

#### NFR-501: 코드 품질
- ESLint 규칙 준수
- 컴포넌트 재사용성
- 명확한 함수명/변수명

#### NFR-502: 문서화
- API 문서 (Swagger/OpenAPI)
- 코드 주석 (복잡한 로직만)
- README 및 배포 가이드

---

## 6. 제약사항 (Constraints)

### 6.1 기술적 제약
- **무료 인프라 사용**: Cloudflare Pages, Neon PostgreSQL 무료 tier
- **GitHub API Rate Limit**: 시간당 60회 (인증 시 5,000회)
- **Cloudflare Workers**: 일일 10만 요청 제한
- **Neon DB**: 0.5GB storage 제한

### 6.2 일정 제약
- **MVP 출시**: 개발 시작 후 2주 이내
- **전체 기능 완성**: 4주 이내

### 6.3 리소스 제약
- **개발 인력**: 1-2명
- **예산**: $0 (완전 무료)

---

## 7. 가정 및 의존성 (Assumptions & Dependencies)

### 7.1 가정
- GitHub 리포지토리는 모두 public으로 설정됨
- 학생들은 표준 HTML/CSS/JS 사용 (프레임워크 제한 없음)
- 도메인 `edu.abada.co.kr` 사용 가능
- 인터넷 연결 환경에서만 사용

### 7.2 의존성
- **GitHub API**: GitHub 서비스 정상 작동 필요
- **Cloudflare**: Pages, Workers, DNS 서비스 정상 작동
- **Neon PostgreSQL**: 데이터베이스 서비스 가용성
- **브라우저**: JavaScript 활성화 필수

---

## 8. 우선순위 및 로드맵 (Priority & Roadmap)

### Phase 1: MVP (2주)
**목표**: 기본 채점 기능 및 배포

- [P0] 학생 추가/관리
- [P0] 체크리스트 수동 채점
- [P0] 기타 평가 입력 및 최종 성적 계산
- [P0] GitHub 자동 분석 (기본)
- [P1] CSV 내보내기
- [P1] 데이터베이스 연동
- [P1] Cloudflare Pages 배포

### Phase 2: 자동화 강화 (2주)
**목표**: 자동 분석 정확도 향상 및 통계

- [P0] GitHub 분석 로직 고도화
- [P1] 통계 및 차트
- [P1] 공지사항 기능
- [P1] 일괄 분석
- [P2] 분석 캐싱

### Phase 3: 학생 기능 (1주)
**목표**: 학생 대시보드

- [P1] 학생 로그인 및 성적 조회
- [P1] 공지사항 학생 뷰
- [P2] 제출 현황 확인

### Phase 4: 최적화 (1주)
**목표**: 성능 및 UX 개선

- [P2] 성능 최적화
- [P2] 에러 처리 강화
- [P2] 접근성 개선
- [P2] 모바일 최적화

---

## 9. 리스크 및 완화 전략 (Risks & Mitigation)

### Risk-001: GitHub API Rate Limit 초과
**확률**: 높음 | **영향**: 높음
- **완화**: Personal Access Token 사용 (5,000 req/h)
- **완화**: 분석 캐싱 (24시간)
- **완화**: 일괄 분석 시 대기열 관리

### Risk-002: HTML 파싱 오류
**확률**: 중간 | **영향**: 중간
- **완화**: try-catch 에러 처리
- **완화**: 수동 채점 옵션 제공
- **완화**: 분석 신뢰도 표시

### Risk-003: 무료 DB 용량 초과
**확률**: 낮음 | **영향**: 높음
- **완화**: 정기적 데이터 정리
- **완화**: 오래된 분석 캐시 삭제
- **완화**: 필요 시 유료 tier 전환 계획

### Risk-004: 동시 접속 과부하
**확률**: 낮음 | **영향**: 중간
- **완화**: Cloudflare CDN 캐싱
- **완화**: API rate limiting
- **완화**: 서버리스 자동 스케일링

---

## 10. 승인 및 변경 이력 (Approval & Change Log)

### 승인
| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 제품 책임자 | - | - | 2025-01-22 |
| 기술 책임자 | - | - | 2025-01-22 |
| 프로젝트 관리자 | - | - | 2025-01-22 |

### 변경 이력
| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-01-22 | 초안 작성 | - |

---

**문서 끝**
